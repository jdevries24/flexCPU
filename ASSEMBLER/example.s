NOP
BRC @MAIN
NOP

@PRINT
INC R0,R3,0XFFFF
.PRINT_TOP
LDAB R1,R2
CMP R2,R0
BEQ .PRINT_END
STRB R2,R3
INC R1,R1,1
BRC .PRINT_TOP
.PRINT_END
RET

@MAIN
INC R0,SP,0XFFFF
LEA R1,@INT_VECTOR
STRH R1,R0
.MAIN_TOP
LEA R1,.MESSAGE
CAL @PRINT
BRC .MAIN_TOP
HCF

@INT_VECTOR
STRH R1,SP,-2
STRH R2,SP,-4
STRH R3,SP,-6
STRH RA,SP,-8
LEA R1,.MESSAGE2
CAL @PRINT
LDAH SP,RA,-8
LDAH SP,R3,-6
LDAH SP,R2,-4
LDAH SP,R1,-2
RIN

.MESSAGE B "HELLO WORLD!\n",0
.MESSAGE2 B "INTURUPT!\n",0